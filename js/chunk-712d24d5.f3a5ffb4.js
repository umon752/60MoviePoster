(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-712d24d5"],{"67e3":function(e,t,c){"use strict";c.r(t);var a=c("7a23"),o={key:0,class:"\n      flex-grow-1\n      bg-black-opacity-50\n      d-flex\n      justify-content-center\n      align-items-center\n    "},r=Object(a["createVNode"])("h3",{class:"fs-2 fw-bold opacity-50"},"No order yet.",-1),d={key:1,class:"scrollbar mb-6"},l={class:"table text-nowrap mb-8"},s=Object(a["createVNode"])("thead",{class:"bg-black-opacity-50 border-top"},[Object(a["createVNode"])("tr",null,[Object(a["createVNode"])("th",{scope:"col",class:"border-bottom"},"PAID DATE"),Object(a["createVNode"])("th",{scope:"col",class:"border-bottom"},"EMAIL"),Object(a["createVNode"])("th",{scope:"col",class:"border-bottom"},"PRODUCTS"),Object(a["createVNode"])("th",{scope:"col",class:"border-bottom"},"TOTAL"),Object(a["createVNode"])("th",{scope:"col",class:"border-bottom"},"IS PAID"),Object(a["createVNode"])("th",{scope:"col",class:"border-bottom"},"EDIT")])],-1),n={key:0,class:"form-check form-switch"},i={key:1,class:"form-check form-switch"},b=Object(a["createVNode"])("span",{class:"material-icons"}," visibility ",-1),p=Object(a["createVNode"])("span",{class:"material-icons"}," delete ",-1),O={key:2,class:"d-flex justify-content-end"};function j(e,t,c,j,m,u){var f=Object(a["resolveComponent"])("Pagination"),N=Object(a["resolveComponent"])("OrderModal"),V=Object(a["resolveComponent"])("DeleteModal"),h=Object(a["resolveComponent"])("ProductItemModal");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Fragment"],null,[0===m.ordersData.length?(Object(a["openBlock"])(),Object(a["createBlock"])("section",o,[r])):(Object(a["openBlock"])(),Object(a["createBlock"])("div",d,[Object(a["createVNode"])("table",l,[s,Object(a["createVNode"])("tbody",null,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(m.ordersData,(function(t){return Object(a["openBlock"])(),Object(a["createBlock"])("tr",{key:t.id},[Object(a["createVNode"])("td",null,Object(a["toDisplayString"])(e.$filters.date(t.create_at)),1),Object(a["createVNode"])("td",null,Object(a["toDisplayString"])(t.user.email),1),Object(a["createVNode"])("td",null,[Object(a["createVNode"])("a",{href:"#",onClick:Object(a["withModifiers"])((function(e){return u.openModal("VIEWITEM",t.products)}),["prevent"])},"PRODUCT ITEMS",8,["onClick"])]),Object(a["createVNode"])("td",null,"NT$ "+Object(a["toDisplayString"])(e.$filters.thousands(t.total)),1),Object(a["createVNode"])("td",null,[t.is_paid?(Object(a["openBlock"])(),Object(a["createBlock"])("div",n,[Object(a["createVNode"])("input",{class:"form-check-input",type:"checkbox",id:t.id,checked:"",onClick:function(e){return u.UpdatePaidState(t)}},null,8,["id","onClick"]),Object(a["createVNode"])("label",{class:"form-check-label text-primary",for:t.id},"PAID",8,["for"])])):(Object(a["openBlock"])(),Object(a["createBlock"])("div",i,[Object(a["createVNode"])("input",{class:"form-check-input",type:"checkbox",id:t.id,onClick:function(e){return u.UpdatePaidState(t)}},null,8,["id","onClick"]),Object(a["createVNode"])("label",{class:"form-check-label opacity-50",for:t.id},"NOT PAID",8,["for"])]))]),Object(a["createVNode"])("td",null,[Object(a["createVNode"])("a",{href:"#",class:"icon-btn link d-inline-flex me-4",onClick:Object(a["withModifiers"])((function(e){return u.openModal("VIEW",t)}),["prevent"])},[b],8,["onClick"]),Object(a["createVNode"])("a",{href:"#",class:"icon-btn link d-inline-flex",onClick:Object(a["withModifiers"])((function(e){return u.openModal("DELETE",t)}),["prevent"])},[p],8,["onClick"])])])})),128))])])])),0!==m.ordersData.length?(Object(a["openBlock"])(),Object(a["createBlock"])("div",O,[Object(a["createVNode"])(f,{page:m.pagination,onGetData:u.getOrders},null,8,["page","onGetData"])])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(N,{ref:"orderModal",orderData:m.orderData,isSpinner:m.isSpinner},null,8,["orderData","isSpinner"]),Object(a["createVNode"])(V,{ref:"delModal",data:m.orderData,modalTitle:m.modalTitle,onDelData:u.delOrder,isSpinner:m.isSpinner},null,8,["data","modalTitle","onDelData","isSpinner"]),Object(a["createVNode"])(h,{ref:"productItemModal",data:m.orderData},null,8,["data"])],64)}var m=c("5530"),u=(c("99af"),c("4dcd")),f=c("1799"),N=(c("b0c0"),{ref:"modal",class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}),V={class:"\n        modal-dialog modal-dialog-centered modal-xl modal-fullscreen-lg-down\n      "},h={class:"modal-content"},k=Object(a["createVNode"])("div",{class:"modal-header"},[Object(a["createVNode"])("h3",{class:"modal-title title fs-2",id:"exampleModalLabel"}," ORDER DETAIL "),Object(a["createVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),y={class:"modal-body"},D={class:"row"},g={class:"col-md-4 mb-6"},S=Object(a["createVNode"])("h4",{class:"fs-3 fw-bold border-bottom pb-2"},"CUSTOMER INFO",-1),w={key:0},v={class:"border-bottom py-3"},x=Object(a["createVNode"])("p",{class:"fw-bold w-30 d-inline-block"},"NAME",-1),B={class:"text-secondary"},M={class:"border-bottom py-3"},T=Object(a["createVNode"])("p",{class:"fw-bold w-30 d-inline-block"},"EMAIL",-1),I={class:"text-secondary"},E={class:"border-bottom py-3"},$=Object(a["createVNode"])("p",{class:"fw-bold w-30 d-inline-block"},"TEL",-1),C={class:"text-secondary"},A={class:"border-bottom py-3"},L=Object(a["createVNode"])("p",{class:"fw-bold w-30 d-inline-block"},"ADDRESS",-1),P={class:"text-secondary"},R={class:"col-md-8"},U=Object(a["createVNode"])("h4",{class:"fs-3 fw-bold border-bottom pb-2"},"ORDER INFO",-1),_={class:"mb-6 mb-md-7"},F={class:"border-bottom py-3"},G=Object(a["createVNode"])("p",{class:"fw-bold w-30 d-inline-block"},"ORDER ID",-1),W={class:"text-secondary"},q={class:"border-bottom py-3"},J=Object(a["createVNode"])("p",{class:"fw-bold w-30 d-inline-block"},"CREATE AT",-1),K={class:"text-secondary"},Y={class:"border-bottom py-3"},z=Object(a["createVNode"])("p",{class:"fw-bold w-30 d-inline-block"},"PAID DATE",-1),H={key:0,class:"text-primary"},Q={key:1,class:"text-secondary"},X={class:"border-bottom py-3"},Z=Object(a["createVNode"])("p",{class:"fw-bold w-30 d-inline-block"},"PAYMENT STATUS",-1),ee={key:0,class:"text-primary"},te={key:1,class:"text-secondary"},ce={class:"border-bottom py-3"},ae=Object(a["createVNode"])("p",{class:"fw-bold w-30 d-inline-block"},"TOTAL",-1),oe={class:"text-secondary"},re={class:"border-bottom py-3"},de=Object(a["createVNode"])("p",{class:"fw-bold w-30 d-inline-block"},"MESSAGE",-1),le={class:"text-secondary"},se=Object(a["createVNode"])("h4",{class:"fs-3 fw-bold border-bottom pb-2"},"PRODUCTS",-1),ne={key:0,class:"mb-6 mb-md-7"},ie={class:"text-secondary w-md-60"},be={class:"text-secondary"},pe={class:"me-3 me-xl-4"},Oe={class:"modal-footer"},je={type:"button",class:"btn btn-sm btn-primary px-5","data-bs-dismiss":"modal"},me=Object(a["createTextVNode"])("OK ");function ue(e,t,c,o,r,d){var l=Object(a["resolveComponent"])("Spinner");return Object(a["openBlock"])(),Object(a["createBlock"])("div",N,[Object(a["createVNode"])("div",V,[Object(a["createVNode"])("div",h,[k,Object(a["createVNode"])("div",y,[Object(a["createVNode"])("div",D,[Object(a["createVNode"])("div",g,[S,r.tempOrder.user?(Object(a["openBlock"])(),Object(a["createBlock"])("ul",w,[Object(a["createVNode"])("li",v,[x,Object(a["createVNode"])("span",B,Object(a["toDisplayString"])(r.tempOrder.user.name),1)]),Object(a["createVNode"])("li",M,[T,Object(a["createVNode"])("span",I,Object(a["toDisplayString"])(r.tempOrder.user.email),1)]),Object(a["createVNode"])("li",E,[$,Object(a["createVNode"])("span",C,Object(a["toDisplayString"])(r.tempOrder.user.tel),1)]),Object(a["createVNode"])("li",A,[L,Object(a["createVNode"])("span",P,Object(a["toDisplayString"])(r.tempOrder.user.address),1)])])):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])("div",R,[U,Object(a["createVNode"])("ul",_,[Object(a["createVNode"])("li",F,[G,Object(a["createVNode"])("span",W,Object(a["toDisplayString"])(r.tempOrder.id),1)]),Object(a["createVNode"])("li",q,[J,Object(a["createVNode"])("span",K,Object(a["toDisplayString"])(e.$filters.date(r.tempOrder.create_at)),1)]),Object(a["createVNode"])("li",Y,[z,r.tempOrder.paid_date?(Object(a["openBlock"])(),Object(a["createBlock"])("span",H,Object(a["toDisplayString"])(e.$filters.date(r.tempOrder.paid_date)),1)):(Object(a["openBlock"])(),Object(a["createBlock"])("span",Q,"-"))]),Object(a["createVNode"])("li",X,[Z,r.tempOrder.is_paid?(Object(a["openBlock"])(),Object(a["createBlock"])("span",ee," Paid")):(Object(a["openBlock"])(),Object(a["createBlock"])("span",te," Not paid"))]),Object(a["createVNode"])("li",ce,[ae,Object(a["createVNode"])("span",oe,"NT$ "+Object(a["toDisplayString"])(e.$filters.thousands(r.tempOrder.total)),1)]),Object(a["createVNode"])("li",re,[de,Object(a["createVNode"])("span",le,Object(a["toDisplayString"])(r.tempOrder.message),1)])]),se,r.tempOrder.products?(Object(a["openBlock"])(),Object(a["createBlock"])("ul",ne,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(r.tempOrder.products,(function(t){return Object(a["openBlock"])(),Object(a["createBlock"])("li",{class:"\n                    border-bottom\n                    d-flex\n                    flex-wrap\n                    align-items-center\n                    justify-content-between\n                    py-3\n                  ",key:t.id},[Object(a["createVNode"])("p",ie,Object(a["toDisplayString"])(t.product.title),1),Object(a["createVNode"])("p",be,[Object(a["createVNode"])("span",pe," x"+Object(a["toDisplayString"])(t.qty)+" / "+Object(a["toDisplayString"])(t.product.unit),1),Object(a["createTextVNode"])(" NT$ "+Object(a["toDisplayString"])(e.$filters.thousands(t.product.price)),1)])])})),128))])):Object(a["createCommentVNode"])("",!0)])])]),Object(a["createVNode"])("div",Oe,[Object(a["createVNode"])("button",je,[c.isSpinner?(Object(a["openBlock"])(),Object(a["createBlock"])(l,{key:0})):Object(a["createCommentVNode"])("",!0),me])])])])],512)}var fe=c("9641"),Ne=c("2375"),Ve={props:{orderData:{type:Object,default:function(){return{}}},isSpinner:{type:Boolean}},mixins:[fe["a"]],data:function(){return{modal:"",tempOrder:{}}},watch:{orderData:function(){this.tempOrder=Object(m["a"])({},this.orderData)}},components:{Spinner:Ne["a"]}};Ve.render=ue;var he=Ve,ke=c("5791"),ye={ref:"productItemModal",class:"modal fade",id:"productItem",tabindex:"-1","aria-labelledby":"productItemLabel","aria-hidden":"true"},De={class:"modal-dialog modal-dialog-centered"},ge={class:"modal-content"},Se=Object(a["createVNode"])("div",{class:"modal-header"},[Object(a["createVNode"])("h3",{class:"modal-title title fs-2",id:"productItemLabel"}," PRODUCT ITEMS "),Object(a["createVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),we={class:"modal-body"},ve={key:0,class:"\n                  d-flex\n                  flex-wrap\n                  justify-content-between\n                  align-items-center\n                "},xe={class:"w-md-60"},Be={class:"me-3"},Me=Object(a["createVNode"])("div",{class:"modal-footer"},[Object(a["createVNode"])("button",{type:"button",class:"btn btn-sm btn-primary d-flex","data-bs-dismiss":"modal"}," OK ")],-1);function Te(e,t,c,o,r,d){return Object(a["openBlock"])(),Object(a["createBlock"])("div",ye,[Object(a["createVNode"])("div",De,[Object(a["createVNode"])("div",ge,[Se,Object(a["createVNode"])("div",we,[Object(a["createVNode"])("ul",null,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(c.data,(function(t){return Object(a["openBlock"])(),Object(a["createBlock"])("li",{class:"border-bottom mb-2 pb-2",key:t.id},[t.product?(Object(a["openBlock"])(),Object(a["createBlock"])("div",ve,[Object(a["createVNode"])("p",xe,Object(a["toDisplayString"])(t.product.title),1),Object(a["createVNode"])("p",null,[Object(a["createVNode"])("span",Be,"x"+Object(a["toDisplayString"])(t.qty),1),Object(a["createTextVNode"])(" NT$ "+Object(a["toDisplayString"])(e.$filters.thousands(t.product.price)),1)])])):Object(a["createCommentVNode"])("",!0)])})),128))])]),Me])])],512)}var Ie=c("7c2b"),Ee=c.n(Ie),$e={data:function(){return{productItemModal:""}},props:{data:{type:Object,default:function(){return{}}}},methods:{openModal:function(){this.productItemModal.show()},closeModal:function(){this.productItemModal.hide()}},mounted:function(){this.productItemModal=new Ee.a(this.$refs.productItemModal)}};$e.render=Te;var Ce=$e,Ae={data:function(){return{ordersData:[],orderData:{},pagination:{},modalTitle:"",isSpinner:!1}},inject:["emitter","$alertState"],emits:["emptyState"],watch:{ordersData:function(){0===this.ordersData.length?this.$emit("emptyState",!0):this.$emit("emptyState",!1)}},methods:{getOrders:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("umon752","/admin/orders?page=").concat(t);this.$http.get(c).then((function(t){t.data.success?(e.ordersData=t.data.orders,e.pagination=t.data.pagination):e.$alertState(t.data.success,"Get orders"),u["a"].emit("isLoading",e.isLoading=!1)})).catch((function(){e.$alertState("error")}))},openModal:function(e,t){"DELETE"===e?(this.$refs.delModal.openModal(),this.orderData=Object(m["a"])({},t),this.modalTitle="ORDER"):"VIEW"===e?(this.$refs.orderModal.openModal(),this.orderData=Object(m["a"])({},t)):"VIEWITEM"===e&&(this.$refs.productItemModal.openModal(),this.orderData=Object(m["a"])({},t))},delOrder:function(){var e=this;this.isSpinner=!0;var t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("umon752","/admin/order/").concat(this.orderData.id);this.$http.delete(t).then((function(t){t.data.success?(e.$alertState(t.data.success,"Delete this order"),e.getOrders()):e.$alertState(t.data.success,"Delete this order"),e.isSpinner=!1,e.$refs.delModal.closeModal()})).catch((function(){e.$alertState("error")}))},UpdatePaidState:function(e){var t=this;e.is_paid?e.is_paid=!1:e.is_paid=!0;var c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("umon752","/admin/order/").concat(e.id);this.$http.put(c,{data:e}).then((function(e){e.data.success?(t.$alertState(e.data.success,"Update paid state"),t.getOrders()):t.$alertState(e.data.success,"Update paid state")})).catch((function(){t.$alertState("error")}))}},mounted:function(){u["a"].emit("isLoading",this.isLoading=!0),this.getOrders()},components:{Pagination:f["a"],OrderModal:he,DeleteModal:ke["a"],ProductItemModal:Ce}};Ae.render=j;t["default"]=Ae},b0c0:function(e,t,c){var a=c("83ab"),o=c("9bf2").f,r=Function.prototype,d=r.toString,l=/^\s*function ([^ (]*)/,s="name";a&&!(s in r)&&o(r,s,{configurable:!0,get:function(){try{return d.call(this).match(l)[1]}catch(e){return""}}})}}]);
//# sourceMappingURL=chunk-712d24d5.f3a5ffb4.js.map